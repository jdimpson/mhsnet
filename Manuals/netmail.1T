


User Commands                                          NETMAIL(1)



NNNNAAAAMMMMEEEE
     netmail - send mail via network

SSSSYYYYNNNNOOOOPPPPSSSSIIIISSSS
     _n_e_t_m_a_i_l [-_f_l_a_g_s] [_N_A_M_E=_v_a_l_u_e] ...  _u_s_e_r_s[@@@@_d_e_s_t_i_n_a_t_i_o_n_s] ...

DDDDEEEESSSSCCCCRRRRIIIIPPPPTTTTIIIIOOOONNNN
     _N_e_t_m_a_i_l is a simple program to send a mail message to remote
     users  via  the  network.   A  mail  message consists of two
     parts:  the  _h_e_a_d_e_r,  which  must  contain  certain   lines,
     followed  by the _b_o_d_y, or _t_e_x_t, which may be empty.  _N_e_t_m_a_i_l
     starts in _c_o_m_p_o_s_i_t_i_o_n mode, allowing the invoker  to  change
     any  line  in  the  header,  and  add  to  or edit the text.
     Composition terminates when _n_e_t_m_a_i_l reads a line  consisting
     of   a   single  period.   It  then  sends  the  mail  using
     _n_e_t_f_i_l_e(1).

     _N_e_t_m_a_i_l will concatenate all _T_o and _c_a_r_b_o_n  _c_o_p_y  recipients
     into a _m_u_l_t_i_c_a_s_t address so that a minimal number of network
     message copies will be generated for multiple  destinations.
     A  separate  message  is  generated  for  _b_l_i_n_d  _c_a_r_b_o_n _c_o_p_y
     recipients, whose addresses are not seen by the others.

     The flags are as follows:

     ----aaaa  Turns on message acknowledgement, and reports  a  unique
         identifier  on  _s_t_d_o_u_t.   You  will receive an automatic
         acknowledgement of delivery tagged with  the  identifier
         from each recipient.  This flag may also be set with the
         ....AAAA command, or toggled with the ....aaaa command (see COMMANDS
         below).

     ----bbbb  Prompt for a _b_l_i_n_d _c_a_r_b_o_n _c_o_p_y list (unless set via  the
         BCC environment variable as below).

     ----cccc  Prompt for a _c_a_r_b_o_n _c_o_p_y list (unless  set  via  the  CC
         environment variable as below).

     ----dddd  Incorporate the `dead.letter'  file.   The  mail  header
         lines are also set from the incorporated file.  The same
         effect may also be achieved with  the  ....DDDD  command  (see
         COMMANDS below).

     ----eeee  Add a `Received:' line to the mail header.

     ----ffff  Read and send a letter with mail-header  and  body  both
         from  _s_t_d_i_n.   The  header  is checked and addresses are
         canonicalised.  (Sets ----sssstttt.)

     ----iiii  Add a `Message-ID:' line to the mail header.

     ----mmmm  Ignore commands from _s_t_d_i_n - add all input  to  body  of



SunOS 5.6            Last change: MHSnet 1.3                    1






User Commands                                          NETMAIL(1)



         mail.

     ----oooo  Do not allow the first period to be  interpreted  as  an
         address   separator  in  address  arguments.   (This  is
         normally considered an alternative address separator  if
         there is no `@' present).

     ----pppp  Print header on startup.

     ----qqqq  Report a unique message  identifier  generated  for  the
         mail  item(s) on _s_t_d_o_u_t.  A unique message identifier is
         also generated by the ----aaaa flag above, however, this  flag
         suppresses the explanatory leader.

     ----rrrr  Requests that mail should not be returned on error.

     ----ssss  Don't prompt for a `Subject:' line (the  default  action
         is to prompt).

     ----tttt  Don't echo `To:' or `EOT' to _s_t_d_o_u_t.

     ----FFFF _f_i_l_e
         Use _f_i_l_e as default if no name supplied with the `.m' or
         `.r' incorporate commands (below).

     ----TTTT[_l_e_v_e_l]
         Turns on tracing at _l_e_v_e_l (default: 1).  If  tracing  is
         not compiled in, this flag will have no effect.

     NAME===="_s_t_r_i_n_g"
         Set specific environment variables as  described  below.
         These values override those in the environment.

     ----????  Explain argument options and exit.

     Other arguments are assumed to  be  the  addresses  of  mail
     recipients  to  be  included  in  the  _T_o line.  The default
     _d_e_s_t_i_n_a_t_i_o_n is the local site, which will  be  interpolated.
     Other  destination addresses supplied will be expanded using
     the network routing tables.  See  _n_e_t_f_i_l_e(1)  for  the  full
     syntax  for  _d_e_s_t_i_n_a_t_i_o_n_s,  but note that _u_s_e_r addresses are
     different, in that a comma (`,,,,') between user names has  the
     same effect as a space.

EEEENNNNVVVVIIIIRRRROOOONNNNMMMMEEEENNNNTTTT VVVVAAAARRRRIIIIAAAABBBBLLLLEEEESSSS
     _N_e_t_m_a_i_l  understands  several  _e_n_v_i_r_o_n_m_e_n_t  variables   that
     control its actions:

     ADDRESS
         Sets the _s_i_t_e address for the  invoker,  which  will  be
         used  as the invoker's source address in the mail header
         `From: ' line.  The default is the value  of  the  local



SunOS 5.6            Last change: MHSnet 1.3                    2






User Commands                                          NETMAIL(1)



         host  address  minus the leading node-name (or the value
         of the  configuration  parameter  ADDRESS  if  set).   A
         suitable value can be obtained by using _n_e_t_a_d_d_r(8) eg:
           ADDRESS=`netaddr -s` export ADDRESS

     BCC _B_l_i_n_d _c_a_r_b_o_n _c_o_p_y  recipients.   These  recipients  will
         receive  a  copy  of  the full text of the mail message,
         whereas users in the _T_o and _C_c lists will not see  these
         addresses.   The  use  of  BCC  necessarily  entails the
         transmission of two separate messages.

     CC  _C_a_r_b_o_n _c_o_p_y recipients.

     EDITOR
         The pathname of a program to  be  invoked  to  edit  the
         message.

     LINES
         The number of lines in the current window (default 22).

     LOGNAME
         The _l_o_g_i_n _n_a_m_e of the  invoker.   The  default  will  be
         extracted from the _p_a_s_s_w_d file.  This variable overrides
         the default, so make sure that the name is a deliverable
         address  for  received  mail  messages.   (Alternatives:
         LNAME or USER.)

     NAME
         The invoker's full name.  This will be added to the _F_r_o_m
         line  in parentheses.  The default is extracted from the
         `pw_gecos' field in the _p_a_s_s_w_d file if it is non-empty -
         which may not be what you want.  This variable overrides
         the default.

     ORGANIZATION
         Sets  value  for  optional  `Organisation:  '  field  in
         message header.

     OUTBOX
         If this variable is set to the name of a  file,  _n_e_t_m_a_i_l
         will  append  a  copy of the mail to it when the mail is
         sent.  If instead OUTBOX is a directory, then  the  mail
         will  be  appended  to a file in that directory with the
         name of the first recipient.  Alternatively, it can be a
         space  separated  list  of  files and/or directories, in
         which case each will receive a copy of the mail  message
         after composition.

     PAGER
         The pathname of a program to paginate  output  from  the
         `.p' command.




SunOS 5.6            Last change: MHSnet 1.3                    3






User Commands                                          NETMAIL(1)



     SIGNATURE
         The name of a file to be appended to  the  body  of  the
         mail.   By  default  this  file  is assumed to be called
         `.signature' in the invoker's  home  directory,  but  if
         this  variable  is  set, then it will force inclusion of
         the signature file at the end of  the  mail.   The  same
         effect may be achieved with the ....gggg command (see COMMANDS
         below).

     SUBJECT
         Description for the _S_u_b_j_e_c_t line  in  the  mail  header.
         You  will  be  prompted  to  supply  a  subject  if this
         variable is missing-an empty response removes the line.

     XFACE
         Sets value for optional  `X-Face:  '  field  in  message
         header.

CCCCOOOOMMMMMMMMAAAANNNNDDDDSSSS
     _C_o_m_p_o_s_i_t_i_o_n  mode  allows  several  commands.   Some  change
     specific  fields  in  the  header,  others  affect the whole
     message, or just the message _b_o_d_y.  If the command takes  an
     optional  parameter,  and  the parameter is missing, it will
     prompt you for it.  A space between command and parameter is
     optional.   In  general,  the  upper-case  variant  of  each
     command has a _s_e_t_t_i_n_g effect, whereas the lower-case command
     has  a  _m_o_d_i_f_y_i_n_g,  or _a_p_p_e_n_d_i_n_g effect.  All commands start
     with a period at the beginning of a line,  and  end  with  a
     _n_e_w_l_i_n_e:

     ....!!!! _p_r_o_g [_a_r_g ...]
           Execute _p_r_o_g with optional arguments.

     ....<<<< _p_r_o_g [_a_r_g ...]
           Append the output of _p_r_o_g to the body of the message.

     ....|||| _p_r_o_g [_a_r_g ...]
           Pipe the body of the message though _p_r_o_g.

     ....aaaa ....AAAA Toggle  (a),  or   set   (A),   the   value   of   the
           _a_c_k_n_o_w_l_e_d_g_e_m_e_n_t flag.

     ....bbbb ....BBBB [_l_i_s_t]
           Add to (b), or replace (B), the list of recipients for
           _b_l_i_n_d _c_a_r_b_o_n _c_o_p_i_e_s.

     ....cccc ....CCCC [_l_i_s_t]
           Add to (c), or replace (C), the list of recipients for
           _c_a_r_b_o_n _c_o_p_i_e_s.

     ....dddd ....DDDD Append (d), or  replace  whole  message  by  (D),  the
           `dead.letter' file.



SunOS 5.6            Last change: MHSnet 1.3                    4






User Commands                                          NETMAIL(1)



     ....eeee ....EEEE [_e_d_i_t_o_r]
           Edit whole message (e), or message body (E).  The name
           of  the  editor  invoked  is  taken  from the optional
           _e_d_i_t_o_r argument, otherwise from the EDITOR environment
           variable  if  it  exists,  otherwise  from  the EDITOR
           parameter if it is set in the _n_e_t_m_a_i_l parameter  file,
           otherwise _e_d(1) is used.

     ....ffff ....FFFF [_l_i_s_t]
           Append to (f), or replace (F),  the  outbox  recipient
           list.   This  list  defaults  to the name of the first
           recipient in the _T_o: list.  It is used if any name  in
           the  OUTBOX list above is the pathname of a directory,
           in which case the message will  be  appended  to  each
           file  that can be created by appending a name from the
           recipient list to the  name  of  a  directory  in  the
           OUTBOX list.

     ....gggg ....GGGG [_f_i_l_e]
           Append (g),  or  replace  message  body  by  (G),  the
           contents   of   _f_i_l_e.   [Default:  `$HOME/.signature',
           unless overridden by the SIGNATURE variable.]

     ....mmmm ....MMMM [_f_i_l_e]
           Append (m),  or  replace  message  body  by  (M),  the
           contents  of _f_i_l_e shifted right one tab stop.  If _f_i_l_e
           is missing, it defaults to the name supplied with  the
           ----FFFF argument.

     ....oooo ....OOOO [_l_i_s_t]
           Append to (o), or replace (O), the list  of  outboxes.
           Names  in  the  _l_i_s_t  should  be those of files and/or
           directories which are treated as for OUTBOX above.

     ....pppp ....PPPP Print whole message (p), or  message  body  (P).   The
           output is piped through a paginator if more than LINES
           lines (default 22).  The  pathname  of  the  paginator
           invoked  is  taken from the PAGER environment variable
           if it exists, otherwise _m_o_r_e(1) is used.

     ....rrrr ....RRRR [_f_i_l_e]
           Append (r), or  replace  whole  message  by  (R),  the
           contents  of _f_i_l_e.  If _f_i_l_e is missing, it defaults to
           the name supplied with the ----FFFF argument.

     ....ssss ....SSSS [_s_e_n_t_e_n_c_e]
           Add to (s), or replace  (S),  the  _S_u_b_j_e_c_t  line  with
           _s_e_n_t_e_n_c_e.

     ....tttt ....TTTT [_l_i_s_t]
           Add to (t), or replace (T), the list of recipients  on
           the _T_o line.



SunOS 5.6            Last change: MHSnet 1.3                    5






User Commands                                          NETMAIL(1)



     ....uuuu ....UUUU [_f_i_l_e]
           Append (u), or  replace  whole  message  by  (U),  the
           contents    of   _f_i_l_e   in   `uuencode'd   form   (see
           _u_u_e_n_c_o_d_e(_1)).  If _f_i_l_e is missing, it defaults to  the
           name supplied with the ----FFFF argument.

     ....wwww ....WWWW _f_i_l_e
           Write the message onto the end of (w),  or  over  (W),
           _f_i_l_e.

     ....???? ....hhhh Print a short summary of these commands.

     ....     Terminate composition and send mail.

     Any other line beginning with a period is incorporated  into
     the body of the message.

     Note that the ....uuuu command is a short form of:
           .<uuencode _f_i_l_e
     Ie: a way of including binary data in mail messages to sites
     not  running  MHSnet  (otherwise use _n_e_t_f_i_l_e(1)).  A smaller
     mail message can be produced by:
           .<compress <_f_i_l_e | uuencode _f_i_l_e.Z
     or, even smaller:
           .<gzip <_f_i_l_e | uuencode _f_i_l_e.gz

PPPPAAAARRRRAAAAMMMMEEEETTTTEEEERRRRSSSS
     On starting, _n_e_t_m_a_i_l reads a file in the `_params' directory
     with  the  same  name  as it was invoked under.  (Ie: if you
     typed `netmail' to invoke  _n_e_t_m_a_i_l,  it  will  look  in  the
     configuration file called `SPOOLDIR/_params/netmail'.)  This
     file can contain the following optional parameters:

     ACKMAIL
         Turn on message acknowledgment for all mail.

     ADDRESS
         Overrides default `site' address.

     EDITOR
         The pathname of a program to  be  invoked  to  edit  the
         message.

     MESSAGEID
         Add a `Message-ID: ' line to all mail message headers.

     NORET
         Request that all errors at destinations be ignored.

     ORGANIZATION
         Sets  value  for  optional  `Organisation:  '  field  in
         message header.



SunOS 5.6            Last change: MHSnet 1.3                    6






User Commands                                          NETMAIL(1)



     PAGER
         The pathname of a program to paginate  output  from  the
         `.p' command.

     RECEIVED
         Add a `Received: ' line to all mail message headers.

     SENDACKARGS
         A string representing the  arguments  to  be  passed  to
         SENDER    below   that   will   be   used   if   message
         acknowledgement is selected.

     SENDARGS
         A string representing the  arguments  to  be  passed  to
         SENDER    below   that   will   be   used   if   message
         acknowledgement is not selected.

     SENDER
         The name of the program to be invoked to send  the  mail
         message.   It  will  have the data for the message piped
         into its standard input, and will be invoked with one of
         the two sets of arguments above.

     XFACE
         Sets  value  for  _o_r_g_a_n_i_s_a_t_i_o_n_a_l  `X-Face:  '  field  in
         message header.

FFFFIIIILLLLEEEESSSS
     $HOME/dead.letter
         The  file  created  to  contain  a   mail   message   if
         composition  is  aborted  before transmission.  The mail
         message is always _a_p_p_e_n_d_e_d to this file.

     $HOME/.signature
         The default name for the file used by the ....gggg command.

     $OUTBOX
         A list of file path names created to contain a  copy  of
         outgoing  mail.   The mail message is always _a_p_p_e_n_d_e_d to
         these files.

     $OUTBOX/_n_a_m_e
         If any path name in OUTBOX is a directory, then  a  file
         will  be  created in that directory for each name in the
         outbox recipient list (cf: the  ....ffff  command).   Default:
         the  name  of the first recipient of the mail.  The mail
         message is always _a_p_p_e_n_d_e_d to these files.

     _params/_n_e_t_m_a_i_l
         Optional parameters for _n_e_t_m_a_i_l  where  _n_e_t_m_a_i_l  is  the
         same name as _n_e_t_m_a_i_l was invoked under.




SunOS 5.6            Last change: MHSnet 1.3                    7






User Commands                                          NETMAIL(1)



SSSSEEEEEEEE AAAALLLLSSSSOOOO
     _c_o_m_p_r_e_s_s(1),  _e_d(1),   _n_e_t_f_i_l_e(1),   _m_o_r_e(1),   _u_u_e_n_c_o_d_e(_1),
     _n_e_t_a_d_d_r(8).

BBBBUUUUGGGGSSSS
     _N_e_t_m_a_i_l is not a mail _r_e_a_d_i_n_g program.

     _N_e_t_m_a_i_l bypasses local mail processing by programs  such  as
     _s_e_n_d_m_a_i_l, and while this means that it incurs less overhead,
     it also means that it will only accept  addresses  that  the
     network knows about.












































SunOS 5.6            Last change: MHSnet 1.3                    8



